using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;

namespace Увольнения.Source
{
    static public class EditControl
    {
        static private Window thatWindow;

        public static Window ThatWindow { get => thatWindow; set => thatWindow = value; }
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        static public void Init(Window window_)
        {
            ThatWindow = window_;
        }
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        static public void AddPeriod(object sender, RoutedEventArgs e_)
        {
            if (CheckPeriodFields())
            {
                //получить id периода
                //
            }
            else return;
        }
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        private static bool CheckPeriodFields()
        {
            bool result = true;
            string error = "";
            List<string> names_ = new List<string>{ "PeriodYear" , "PeriodMonth" };
            List<string> errors = new List<string> { "Введите год.", "Введите месяц." };

            for(int i=0;i<names_.Count;++i)
            {
                if (string.IsNullOrEmpty((ThatWindow.FindName(names_[i]) as TextBox).Text))
                {
                    result = false;
                    error += errors[i];
                }
            }

            if ((ThatWindow.FindName("PeriodDatesList") as ListBox).Items.Count==0)
            {
                result = false;
                error += "Введите даты увольнений.";
            }

            if (!result) MessageBox.Show(error);

            return result;
        }
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
        //*///------------------------------------------------------------------------------------------
    }
}
